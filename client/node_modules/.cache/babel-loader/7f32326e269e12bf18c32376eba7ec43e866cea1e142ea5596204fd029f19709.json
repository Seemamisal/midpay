{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\midpay\\\\client\\\\src\\\\pages\\\\Transaction.js\",\n  _s = $RefreshSig$();\n// src/pages/Transaction.js\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport CryptoJS from \"crypto-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Transaction() {\n  _s();\n  const location = useLocation();\n  const [txnStatus, setTxnStatus] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    const respData = query.get(\"respData\");\n    const AuthID = query.get(\"AuthID\");\n    const AggRefNo = query.get(\"AggRefNo\");\n    if (!respData) {\n      // setError(\"No response data received.\");\n      // return;\n      setTxnStatus({\n        payStatus: \"Pending\"\n      });\n      return;\n    }\n    try {\n      // üîë Full AuthKey as 256-bit key\n      const authKey = \"Qv0rg4oN8cS9sm6PS3rr6fu7MN2FB0Oo\";\n      const key = CryptoJS.enc.Utf8.parse(authKey); // 32 bytes for AES-256\n\n      // üß± First 16 characters of AuthKey as IV\n      const ivString = authKey.substring(0, 16); // \"Qv0rg4oN8cS9sm6P\"\n      const iv = CryptoJS.enc.Utf8.parse(ivString); // 16 bytes for IV\n\n      // üì¶ Decrypt using AES-256-CBC\n      const decrypted = CryptoJS.AES.decrypt(respData, key, {\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n      });\n      const plainText = decrypted.toString(CryptoJS.enc.Utf8);\n      if (!plainText) {\n        throw new Error(\"Decryption failed - invalid or corrupted data\");\n      }\n\n      // ‚úÖ Successfully decrypted!\n      const parsed = JSON.parse(plainText);\n      console.log(\"‚úÖ Decrypted Transaction:\", parsed);\n      setTxnStatus(parsed);\n\n      // Log other fields (to avoid ESLint warnings)\n      console.log(\"AuthID:\", AuthID);\n      console.log(\"AggRefNo:\", AggRefNo);\n    } catch (err) {\n      console.error(\"‚ùå Decryption error:\", err);\n      setError(`Failed to decrypt: ${err.message}`);\n    }\n    console.log(\"‚úÖ Transaction page loaded\");\n  }, [location.search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: 'Arial, sans-serif',\n      padding: '20px',\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Transaction Result\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Error:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), txnStatus ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Status: \", txnStatus.payStatus === \"Ok\" ? \"‚úÖ Success\" : \"‚ùå Failed\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          textAlign: 'left',\n          display: 'inline-block',\n          margin: '0 auto',\n          padding: '10px',\n          background: '#f5f5f5',\n          borderRadius: '5px',\n          whiteSpace: 'pre-wrap',\n          fontSize: '14px'\n        },\n        children: JSON.stringify(txnStatus, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/\",\n        style: {\n          marginTop: '20px',\n          display: 'block'\n        },\n        children: \"\\u2190 Back Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uD83D\\uDD10 Decrypting transaction...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(Transaction, \"YWYGo2a8U5McsGK1+XUMtcE/TLA=\", false, function () {\n  return [useLocation];\n});\n_c = Transaction;\nexport default Transaction;\nvar _c;\n$RefreshReg$(_c, \"Transaction\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","CryptoJS","jsxDEV","_jsxDEV","Transaction","_s","location","txnStatus","setTxnStatus","error","setError","query","URLSearchParams","search","respData","get","AuthID","AggRefNo","payStatus","authKey","key","enc","Utf8","parse","ivString","substring","iv","decrypted","AES","decrypt","mode","CBC","padding","pad","Pkcs7","plainText","toString","Error","parsed","JSON","console","log","err","message","style","fontFamily","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","color","marginBottom","display","margin","background","borderRadius","whiteSpace","fontSize","stringify","href","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/hp/midpay/client/src/pages/Transaction.js"],"sourcesContent":["// src/pages/Transaction.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport CryptoJS from \"crypto-js\";\r\n\r\nfunction Transaction() {\r\n  const location = useLocation();\r\n  const [txnStatus, setTxnStatus] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const query = new URLSearchParams(location.search);\r\n    const respData = query.get(\"respData\");\r\n    const AuthID = query.get(\"AuthID\");\r\n    const AggRefNo = query.get(\"AggRefNo\");\r\n\r\n    if (!respData) {\r\n      // setError(\"No response data received.\");\r\n      // return;\r\n      setTxnStatus({ payStatus: \"Pending\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // üîë Full AuthKey as 256-bit key\r\n      const authKey = \"Qv0rg4oN8cS9sm6PS3rr6fu7MN2FB0Oo\";\r\n      const key = CryptoJS.enc.Utf8.parse(authKey); // 32 bytes for AES-256\r\n\r\n      // üß± First 16 characters of AuthKey as IV\r\n      const ivString = authKey.substring(0, 16); // \"Qv0rg4oN8cS9sm6P\"\r\n      const iv = CryptoJS.enc.Utf8.parse(ivString); // 16 bytes for IV\r\n\r\n      // üì¶ Decrypt using AES-256-CBC\r\n      const decrypted = CryptoJS.AES.decrypt(respData, key, {\r\n        iv: iv,\r\n        mode: CryptoJS.mode.CBC,\r\n        padding: CryptoJS.pad.Pkcs7,\r\n      });\r\n\r\n      const plainText = decrypted.toString(CryptoJS.enc.Utf8);\r\n\r\n      if (!plainText) {\r\n        throw new Error(\"Decryption failed - invalid or corrupted data\");\r\n      }\r\n\r\n      // ‚úÖ Successfully decrypted!\r\n      const parsed = JSON.parse(plainText);\r\n      console.log(\"‚úÖ Decrypted Transaction:\", parsed);\r\n      setTxnStatus(parsed);\r\n\r\n      // Log other fields (to avoid ESLint warnings)\r\n      console.log(\"AuthID:\", AuthID);\r\n      console.log(\"AggRefNo:\", AggRefNo);\r\n\r\n    } catch (err) {\r\n      console.error(\"‚ùå Decryption error:\", err);\r\n      setError(`Failed to decrypt: ${err.message}`);\r\n    }\r\n    console.log(\"‚úÖ Transaction page loaded\");\r\n  }, [location.search]);\r\n  \r\n\r\n  return (\r\n    <div style={{ fontFamily: 'Arial, sans-serif', padding: '20px', textAlign: 'center' }}>\r\n      <h2>Transaction Result</h2>\r\n\r\n      {error && (\r\n        <div style={{ color: 'red', marginBottom: '20px' }}>\r\n          <strong>Error:</strong> {error}\r\n        </div>\r\n      )}\r\n\r\n      {txnStatus ? (\r\n        <div>\r\n          <h3>Status: {txnStatus.payStatus === \"Ok\" ? \"‚úÖ Success\" : \"‚ùå Failed\"}</h3>\r\n          <pre style={{ \r\n            textAlign: 'left', \r\n            display: 'inline-block', \r\n            margin: '0 auto', \r\n            padding: '10px', \r\n            background: '#f5f5f5', \r\n            borderRadius: '5px', \r\n            whiteSpace: 'pre-wrap',\r\n            fontSize: '14px'\r\n          }}>\r\n            {JSON.stringify(txnStatus, null, 2)}\r\n          </pre>\r\n          <br />\r\n          <a href=\"/\" style={{ marginTop: '20px', display: 'block' }}>‚Üê Back Home</a>\r\n        </div>\r\n      ) : (\r\n        <p>üîê Decrypting transaction...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Transaction;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}