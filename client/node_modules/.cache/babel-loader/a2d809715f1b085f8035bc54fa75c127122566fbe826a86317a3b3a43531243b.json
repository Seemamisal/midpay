{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";// ‚úÖ import Link\nimport{database,ref,get}from\"../firebase\";import\"../SignupForm.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=()=>{const[credentials,setCredentials]=useState({username:\"\",password:\"\"});const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setCredentials(prev=>({...prev,[name]:value}));};const handleLogin=async e=>{e.preventDefault();try{const usersRef=ref(database,\"users\");const snapshot=await get(usersRef);if(snapshot.exists()){const usersData=snapshot.val();const matchedUser=Object.values(usersData).find(user=>user.name===credentials.username&&user.mobile===credentials.password);if(matchedUser){alert(\"‚úÖ Login successful!\");console.log(\"User logged in:\",matchedUser);navigate(\"/main\",{state:{username:credentials.username}});}else{alert(\"‚ùå Invalid username or password.\");}}else{alert(\"‚ùå No users found in the database.\");}}catch(error){console.error(\"‚ùå Error during login:\",error);alert(\"An error occurred. Please try again.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"signup-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD10 Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Enter your \",/*#__PURE__*/_jsx(\"strong\",{children:\"Username\"}),\" (name) and \",/*#__PURE__*/_jsx(\"strong\",{children:\"Password\"}),\" (phone number) to continue.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"signup-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"text\",name:\"username\",value:credentials.username,onChange:handleChange,placeholder:\"John Doe\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"signup-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,placeholder:\"Enter your phone number\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signup-button\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"1rem\",textAlign:\"center\"},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don\\u2019t have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:\"#007bff\",textDecoration:\"underline\"},children:\"Sign Up\"})]})})]})});};export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","Link","database","ref","get","jsx","_jsx","jsxs","_jsxs","LoginForm","credentials","setCredentials","username","password","navigate","handleChange","e","name","value","target","prev","handleLogin","preventDefault","usersRef","snapshot","exists","usersData","val","matchedUser","Object","values","find","user","mobile","alert","console","log","state","error","className","children","onSubmit","type","onChange","placeholder","required","style","marginTop","textAlign","to","color","textDecoration"],"sources":["C:/Users/Lenovo/Desktop/midpay/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\"; // ‚úÖ import Link\r\nimport { database, ref, get } from \"../firebase\";\r\nimport \"../SignupForm.css\";\r\n\r\nconst LoginForm = () => {\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCredentials((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const usersRef = ref(database, \"users\");\r\n      const snapshot = await get(usersRef);\r\n\r\n      if (snapshot.exists()) {\r\n        const usersData = snapshot.val();\r\n        const matchedUser = Object.values(usersData).find(\r\n          (user) =>\r\n            user.name === credentials.username &&\r\n            user.mobile === credentials.password\r\n        );\r\n\r\n        if (matchedUser) {\r\n          alert(\"‚úÖ Login successful!\");\r\n          console.log(\"User logged in:\", matchedUser);\r\n          navigate(\"/main\", { state: { username: credentials.username } });\r\n        } else {\r\n          alert(\"‚ùå Invalid username or password.\");\r\n        }\r\n      } else {\r\n        alert(\"‚ùå No users found in the database.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"‚ùå Error during login:\", error);\r\n      alert(\"An error occurred. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-wrapper\">\r\n      <form onSubmit={handleLogin} className=\"signup-form\">\r\n        <h2>üîê Login</h2>\r\n        <p>\r\n          Enter your <strong>Username</strong> (name) and <strong>Password</strong> (phone number) to continue.\r\n        </p>\r\n\r\n        <div className=\"signup-field\">\r\n          <label className=\"signup-label\">Username</label>\r\n          <input\r\n            className=\"signup-input\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={credentials.username}\r\n            onChange={handleChange}\r\n            placeholder=\"John Doe\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"signup-field\">\r\n          <label className=\"signup-label\">Password</label>\r\n          <input\r\n            className=\"signup-input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter your phone number\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"signup-button\">\r\n          Login\r\n        </button>\r\n\r\n        <div style={{ marginTop: \"1rem\", textAlign: \"center\" }}>\r\n          <p>\r\n            Don‚Äôt have an account?{\" \"}\r\n            <Link to=\"/signup\" style={{ color: \"#007bff\", textDecoration: \"underline\" }}>\r\n              Sign Up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}